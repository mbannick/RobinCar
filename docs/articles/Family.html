<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RobinCar Family • RobinCar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RobinCar Family">
<meta property="og:description" content="RobinCar">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RobinCar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Continuous-and-GLM-Type-Outcomes.html">Continuous and GLM-Type Outcomes</a>
    </li>
    <li>
      <a href="../articles/Calibration-for-GLM-Models.html">Calibration for GLM Models</a>
    </li>
    <li>
      <a href="../articles/Robust-Testing-for-Time-to-Event-Data.html">Robust Testing for Time-to-Event Data</a>
    </li>
    <li>
      <a href="../articles/Mantel-Haenszel-Statistic.html">Mantel-Haenszel-Statistic</a>
    </li>
    <li>
      <a href="../articles/Family.html">RobinCar Family</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RobinCar Family</h1>
                        <h4 data-toc-skip class="author">Marlena
Bannick</h4>
            
            <h4 data-toc-skip class="date">2025-08-21</h4>
      
      
      <div class="hidden name"><code>Family.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RobinCar</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'dplyr'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter, lag</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     intersect, setdiff, setequal, union</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: remotes</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span></span>
<span>  <span class="st">"openpharma/RobinCar2"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Using GitHub PAT from the git credential store.</span></span></code></pre>
<pre><code><span><span class="co">## Skipping install of 'RobinCar2' from a github remote, the SHA1 (4f016471) has not changed since last install.</span></span>
<span><span class="co">##   Use `force = TRUE` to force installation</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/openpharma/RobinCar2/" class="external-link">RobinCar2</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'RobinCar2'</span></span></code></pre>
<pre><code><span><span class="co">## The following object is masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     table</span></span></code></pre>
<p>This vignette is to accompany the Results section of the RobinCar
Family paper.</p>
<p><strong>Data Manipulation</strong></p>
<p>Creates continuous and binary outcomes, and does simple data
manipulations.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data are from the speff2trial package</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="fu">speff2trial</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/speff2trial/man/ACTG175.html" class="external-link">ACTG175</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  <span class="co"># Create continuous and binary outcomes</span></span>
<span>  y_cont <span class="op">=</span> <span class="va">cd420</span> <span class="op">-</span> <span class="va">cd40</span>,</span>
<span>  y_bin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="op">(</span><span class="va">y_cont</span> <span class="op">/</span> <span class="va">cd40</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>  <span class="co"># Focus on two treatment arms</span></span>
<span>  <span class="va">arms</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  <span class="co"># Factor variables for treatment</span></span>
<span>  <span class="co"># and stratification variable</span></span>
<span>  arms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">arms</span><span class="op">)</span>,</span>
<span>  strat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">strat</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Linear Adjustment</strong></p>
<p>The following shows a linear model with treatment-by-covariate
interactions, including strata as covariates, and using the four
covariates of weight, hemophilia status, and prior use of non-zidovudine
antiretroviral therapy. These specifications ensure that the covariate
adjustment has guaranteed efficiency gain (asymptotically).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RobinCar2/man/robin_lm.html" class="external-link">robin_lm</a></span><span class="op">(</span></span>
<span>  <span class="va">y_cont</span> <span class="op">~</span> <span class="va">arms</span> <span class="op">*</span> <span class="op">(</span><span class="va">strat</span> <span class="op">+</span> <span class="va">wtkg</span> <span class="op">+</span> <span class="va">hemo</span> <span class="op">+</span> <span class="va">oprior</span><span class="op">)</span>, </span>
<span>  treatment <span class="op">=</span> <span class="va">arms</span> <span class="op">~</span> <span class="fu">pb</span><span class="op">(</span><span class="va">strat</span><span class="op">)</span>, </span>
<span>  data<span class="op">=</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Model        :  y_cont ~ arms * (strat + wtkg + hemo + oprior) </span></span>
<span><span class="co">## Randomization:  arms ~ pb(strat)  ( Permuted-Block )</span></span>
<span><span class="co">## Variance Type:  vcovG </span></span>
<span><span class="co">## Marginal Mean: </span></span>
<span><span class="co">##   Estimate  Std.Err    2.5 %  97.5 %</span></span>
<span><span class="co">## 0 -16.9304   4.4915 -25.7336 -8.1273</span></span>
<span><span class="co">## 1  54.0531   6.2848  41.7352 66.3710</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Contrast     :  h_diff</span></span>
<span><span class="co">##          Estimate Std.Err Z Value  Pr(&gt;|z|)    </span></span>
<span><span class="co">## 1 v.s. 0   70.984   7.673  9.2511 &lt; 2.2e-16 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre>
<p><strong>Generalized Linear Models</strong></p>
<p>For the binary outcome, we can use a logistic regression model
instead.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RobinCar2/man/robin_glm.html" class="external-link">robin_glm</a></span><span class="op">(</span></span>
<span>  <span class="va">y_bin</span> <span class="op">~</span> <span class="va">arms</span> <span class="op">*</span> <span class="op">(</span><span class="va">wtkg</span> <span class="op">+</span> <span class="va">hemo</span> <span class="op">+</span> <span class="va">oprior</span><span class="op">)</span>,</span>
<span>  treatment <span class="op">=</span> <span class="va">arms</span> <span class="op">~</span> <span class="fu">pb</span><span class="op">(</span><span class="va">strat</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span>,</span>
<span>  contrast <span class="op">=</span> <span class="st">"risk_ratio"</span>,</span>
<span>  data <span class="op">=</span> <span class="va">data</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in robin_glm(y_bin ~ arms * (wtkg + hemo + oprior), treatment = arms ~</span></span>
<span><span class="co">## : Consider using the log transformation `log_odds_ratio` and `log_risk_ratio`</span></span>
<span><span class="co">## to replace `odds_ratio` and `risk_ratio` to improve the performance of normal</span></span>
<span><span class="co">## approximation.</span></span></code></pre>
<pre><code><span><span class="co">## Model        :  y_bin ~ arms * (wtkg + hemo + oprior) </span></span>
<span><span class="co">## Randomization:  arms ~ pb(strat)  ( Permuted-Block )</span></span>
<span><span class="co">## Variance Type:  vcovG </span></span>
<span><span class="co">## Marginal Mean: </span></span>
<span><span class="co">##    Estimate   Std.Err     2.5 % 97.5 %</span></span>
<span><span class="co">## 0 0.0496651 0.0092998 0.0314378 0.0679</span></span>
<span><span class="co">## 1 0.1828118 0.0168988 0.1496908 0.2159</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Contrast     :  risk_ratio</span></span>
<span><span class="co">##          Estimate Std.Err Z Value  Pr(&gt;|z|)    </span></span>
<span><span class="co">## 1 v.s. 0  3.68089 0.76609  3.4994 0.0004662 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre>
<p>Rather than a linear contrast, we can instead estimate a risk ratio.
This does not change the marginal mean estimates, but it changes the
contrast estimates (and p-values).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RobinCar2/man/robin_glm.html" class="external-link">robin_glm</a></span><span class="op">(</span></span>
<span>  <span class="va">y_bin</span> <span class="op">~</span> <span class="va">arms</span> <span class="op">*</span> <span class="op">(</span><span class="va">strat</span> <span class="op">+</span> <span class="va">wtkg</span> <span class="op">+</span> <span class="va">hemo</span> <span class="op">+</span> <span class="va">oprior</span><span class="op">)</span>,</span>
<span>  treatment <span class="op">=</span> <span class="va">arms</span> <span class="op">~</span> <span class="fu">pb</span><span class="op">(</span><span class="va">strat</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span>,</span>
<span>  contrast <span class="op">=</span> <span class="st">"log_risk_ratio"</span>,</span>
<span>  data<span class="op">=</span><span class="va">data</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Model        :  y_bin ~ arms * (strat + wtkg + hemo + oprior) </span></span>
<span><span class="co">## Randomization:  arms ~ pb(strat)  ( Permuted-Block )</span></span>
<span><span class="co">## Variance Type:  vcovG </span></span>
<span><span class="co">## Marginal Mean: </span></span>
<span><span class="co">##    Estimate   Std.Err     2.5 % 97.5 %</span></span>
<span><span class="co">## 0 0.0493622 0.0093041 0.0311264 0.0676</span></span>
<span><span class="co">## 1 0.1835664 0.0168944 0.1504539 0.2167</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Contrast     :  log_risk_ratio</span></span>
<span><span class="co">##          Estimate Std.Err Z Value  Pr(&gt;|z|)    </span></span>
<span><span class="co">## 1 v.s. 0  1.31339 0.20904  6.2831 3.318e-10 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre>
<p><strong>Mantel-Haenszel</strong></p>
<p>RobinCar includes functions for robust Mantel-Haenszel estimation.
Here we create a new variable that is the interaction of prior use of
non-zidovudine antiretroviral therapy and hemophilia status, and use
that as the stratification variable.</p>
<p>By default, the function uses the average treatment effect as the
estimand of interest. Specifying the estimand argument as “MH” does not
change the estimate, but it does change the standard error
calculation.</p>
<p>The MH function in RobinCar is only valid for simple
randomization.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  X<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/interaction.html" class="external-link">interaction</a></span><span class="op">(</span><span class="va">oprior</span>, <span class="va">hemo</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/robincar_mh.html">robincar_mh</a></span><span class="op">(</span></span>
<span>  <span class="va">data</span>, <span class="st">"arms"</span>, <span class="st">"y_bin"</span>,</span>
<span>  strata_cols<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"oprior"</span>, <span class="st">"hemo"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Treatment group contrasts based on ATE</span></span>
<span><span class="co">## Estimand: ATE</span></span>
<span><span class="co">## Stratified by oprior, hemo</span></span>
<span><span class="co">## SE calculated via modified Greenland's estimator</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Contrasts:</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">##   contrast    estimate     se `pval (2-sided)`</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr[1d]&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> treat 1 - 0    0.134 0.019<span style="text-decoration: underline;">3</span>         3.83<span style="color: #949494;">e</span><span style="color: #BB0000;">-12</span></span></span></code></pre>
<p><strong>Survival Analysis</strong></p>
<p>For a survival outcome with right-censoring, we can use the RobinCar2
function <code>robin_surv</code> to do a covariate-adjusted, stratified
log-rank test.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">surv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RobinCar2/man/robin_surv.html" class="external-link">robin_surv</a></span><span class="op">(</span></span>
<span>  <span class="fu">Surv</span><span class="op">(</span><span class="va">days</span>, <span class="va">cens</span><span class="op">)</span> <span class="op">~</span> <span class="va">wtkg</span> <span class="op">+</span> <span class="va">oprior</span> <span class="op">+</span> <span class="va">hemo</span> <span class="op">+</span> <span class="fu">strata</span><span class="op">(</span><span class="va">strat</span><span class="op">)</span>,</span>
<span>  treatment <span class="op">=</span> <span class="va">arms</span> <span class="op">~</span> <span class="fu">pb</span><span class="op">(</span><span class="va">strat</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">data</span></span>
<span><span class="op">)</span></span>
<span><span class="va">surv</span></span></code></pre></div>
<pre><code><span><span class="co">## Model        : Surv(days, cens) ~ wtkg + oprior + hemo + strata(strat)</span></span>
<span><span class="co">## Randomization: arms ~ pb(strat) (Permuted-Block)</span></span>
<span><span class="co">## Stratification variables:  strat </span></span>
<span><span class="co">## Covariates adjusted for: wtkg, oprior, hemo (including interactions with arms)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Contrast     : Covariate-adjusted Stratified Log Hazard Ratio</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##          Estimate  Std.Err Z Value  Pr(&gt;|z|)    </span></span>
<span><span class="co">## 1 v.s. 0 -0.69673  0.12323 -5.6539 1.569e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Test         : Covariate-adjusted Stratified Log-Rank</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##          Test Stat.  Pr(&gt;|z|)    </span></span>
<span><span class="co">## 1 v.s. 0    -5.7736 7.757e-09 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre>
<p>You can use the <code>table</code> function to see the number of
events and number at-risk</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RobinCar2/man/surv_effect_methods.html" class="external-link">table</a></span><span class="op">(</span><span class="va">surv</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Number of patients and events per stratum and treatment arm:</span></span>
<span><span class="co">##   strat arms Patients Events</span></span>
<span><span class="co">## 1     1    0      223     59</span></span>
<span><span class="co">## 2     1    1      213     34</span></span>
<span><span class="co">## 3     2    0       96     30</span></span>
<span><span class="co">## 4     2    1      106     20</span></span>
<span><span class="co">## 5     3    0      213     92</span></span>
<span><span class="co">## 6     3    1      203     49</span></span></code></pre>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Marlena Bannick, Yuhan Qian, Ting Ye, Yanyao Yi, Faith Bian.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
